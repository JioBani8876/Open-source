## 4. 오픈소스

## 4.1 사용 오픈소스 

## 4.1.1. 앱 제작 프레임 워크: Flutter
(https://github.com/flutter/flutter/blob/master/LICENSE)
구글에서 제작한 하이브리드 앱 제작용 오픈소스 프레임워크. 설계한 애플리케이션의 프론트엔드 개발에서 사용함.
iOS, Android, 웹, Windows, MacOS, Linux의 여섯 가지 플랫폼에 대한 애플리케이션 개발을 지원. 프로그래밍 언어로 Dart를 사용하고 기계 코드로 컴파일함.

* 빠른 성능 : 호스트 디바이스가 코드를 이해하므로 빠르고 효과적인 성능이 보장.
* 빠르고 일관적이며 사용자를 지정할 수 있는 렌더링 : Flutter는 플랫폼별 렌더링 도구를 사용하지 않고, Google의 오픈 소스 Skia 그래픽 라이브러리를 사용하여 UI를 렌더링. 따라서 애플리케이션에 액세스하는 데 사용하는 플랫폼에 관계없이 사용자에게 일관된 시각적 경험을 제공. 
* 개발자에게 편리한 도구 : 개발자는 도구(핫 리로드)를 사용하여 상태를 바꾸지 않고 코드 변경 내용을 미리 확인 가능. 또한 위젯 검사기를 사용하면 UI 레이아웃 문제를 손쉽게 시각화하고 해결 가능.

* 입력 데이터 : 모든 데이터가 입력값으로 통과함.
* 출력 데이터 : 거의 모든 데이터가 사용자의 디바이스에 출력됨.

* 라이선스 : BSD 3-Clause "New" or "Revised" License
>* BSD 2-Clause "New" or "Revised" License : BSD 2-Clause 와 유사하나 허락 없이 앱을 홍보하는데에 저작권자나 기여자의 이름을 사용하는것을 금지
>* BSD 2-Clause : 재배포시 저작권 표시, 준수조건 및 보증부인에 대한 고지사항을 소스코드 또는 문서 및 기타자료에 포함시켜야 함.


## 4.1.2. 날씨 API: 기상청 단기예보
(https://www.data.go.kr/data/15084084/openapi.do)
초단기실황, 초단기예보, 단기((구)동네)예보, 예보버전 정보를 조회하는 서비스. 
* 초단기실황정보 : 예보 구역에 대한 대표 AWS 관측값 제공.
* 초단기예보 : 예보시점부터 6시간까지의 예보 제공. 
* 단기예보 : 예보기간을 글피까지 확장 및 예보단위를 상세화(3시간→1시간)하여 시공간적으로 세분화한 예보를 제공. 
이러한 정보를 조회하기 위해 발표일자, 발표시각, 예보지점 X 좌표, 예보지점 Y 좌표의 조회 조건으로 자료구분코드, 실황값, 발표일자, 발표시각, 예보지점 X 좌표, 예보지점 Y 좌표의 정보를 조회.

* 입력 데이터 : 사용자의 위치 좌표값
* 출력 데이터 : 입력한 좌표에 따른 장소의 날씨

* 라이선스 : CC License(CC BY)
> * CC License : 저작자가 일정한 조건하에 자신의 저작물을 다른 사람들이 자유롭게 이용할 수 있도록 허락하는 라이선스
> * 저작자 표시(CC BY) (Attribution) : 저작자의 이름, 출처 등 저작자를 반드시 표시해야 한다는 필수 조건. 저작물을 복사하거나 다른 곳에 게시할 때도 반드시 저작자와 출처를 표시해야 함.



## 4.1.3. 디바이스 위치 API: Geolocator
(https://pub.dev/packages/geolocator)
Flutter용 geolocation 플러그인으로, 플랫폼의 location 서비스에 접근이 쉽게 가능하도록 도와줌. 안드로이드 또는 IOS의 플랫폼을 사용. 

* 마지막으로 알려진 위치를 가져옴.
* 장치의 현재 위치를 가져옴.
* 지속적으로 위치를 업데이트 받음.
* 두 지리좌표 사이의 거리를 계산.
* 두 지리좌표 사이의 방위를 계산.


* 입력 : 함수 호출
* 출력 : 위도 경도를 포함, Position 객체를 출력.

* 라이선스 : MIT
> * MIT License : 미국 매사추세츠 공과대학교(MIT)에서 해당 대학의 소프트웨어 공학도들을 돕기 위해 개발한 라이선스. MIT 라이선스를 따르는 소프트웨어를 개조한 제품을 반드시 오픈 소스로 배포해야 한다는 규정이 없으며 GNU 일반 공중 라이선스의 엄격함을 피하려는 사용자들에게 인기.




## 4.1.4. 위치 데이터 API: Places API
(https://developers.google.com/maps/documentation/places/web-service)
구글 맵 플랫폼으로 여러 입력을 장소로 변환. 그 외로 특정 장소의 자세한 정보와 사진, 검색 자동완성 기능, 검색어 추천 기능을 제공. 좌표값을 받은 후 장소로 변환하고 특정 장소의 자세한 정보와 사진, 검색 자동완성 기능, 검색어 추천기능을 제공. 약 2억 곳 이상의 장소에 대한 위치 데이터를 가져오고 앱에 장소 세부정보, 검색, 자동 완성을 추가할 수 있음.

* 장소 검색 : 시설, 주요 관심 장소, 지리적 위치에 대한 장소 정보를 검색.
* 장소 세부정보 : 특정 시설 또는 관심 장소에 대한 세부정보를 가져옴.
* 장소 ID : 특정 장소에 대한 세부정보를 가져오고, 특정 장소의 ID를 찾고, 장소 ID를 저장하고 새로고침하는 방법에 대해 탐색 가능.
* Place Autocomplete : 애플리케이션에 예상 검색어 자동 완성 기능을 추가. (장소 이름, 주소 또는 플러스 코드로 검색)
* 쿼리 자동완성 : 애플리케이션에 즉석 지역 예상 검색어를 추가. (텍스트 쿼리로 검색).
* 장소 유형 : 장소 유형을 사용하여 장소 검색 및 자동 완성 요청의 결과를 제한.
* 장소 아이콘 : 다양한 유형의 장소에 대한 요청 및 표시 아이콘

* 입력 : 좌표
* 출력 : 시설, 지리적 위치 또는 주요 관심 장소

* 라이선스 : Apache 2.0 License

> * Apache 2.0 License : 아파치 재단(Apache Software Foundation)에서 관리하는 모든 오픈 소스 소프트웨어(아파치 웹 서버 등)에 적용되는 라이선스. 오픈 소스를 그대로 재배포하거나 수정하여 재배포하더라도 소스 코드를 공개할 의무가 없으며 상업적 이용에도 제한을 두고 있지 않음. 다만, 재배포하는 경우 아파치 라이선스 2.0 복사본 제공, 아파치에 의해 개발되었음에 대한 저작권 표시, 보증 책임이 없음 등에 대한 표시를 의무.

## 4.1.5. 감정 API : Emotion-recognition

* 사람의 얼굴 이미지나 영상을 분석하여 기분이 어떠한지 뿐만 아니라 그 사람이 가질 수 있는 혼합된 감정의 확률을 보여줌

* 입력값: 사람의 얼굴이 포함된 사진이나 동영상

* 출력값: angry, disgust, scared, happy, sad, surprised, neutral 감정의 비율

* MIT 라이선스
  * Copyright (c) [2018] [Omar Ayman]



## 4.1.6. 검색 엔진 : elastic search

Apache Lucence 기반의 Full-text 엔진

특징: Near Real-time인덱싱 + ELK 스택 연동성

사용 가능 기능

* 질의어 자동 완성(auto completion)
* 오타 수정(correcting typos)
* 일치 항목 강조 표시(highlighting matches)
* 동의어 처리(handling synoms)
* Relevance 조정(adjusting relevance)
* 데이터 집계 및 분석(aggregate & analyze data)

ES 사용 예

* 데이터 집합 분석(aggregation analysis) 및 ML기술을 이용한 데이터 예측(forecast)
* 이상치 파악(anomaly derection)을 통한 실시간 모니터링 및 알림

ES 사용 이유

* 뛰어난 Full-text search
* 텍스트 변형(유의어, 동의어)를 통한 검색 가능
* 비정형 데이터 분석, 처리 가능
* 형태소 분석을 통한 자연어 처리 가능
* Inverted list를 이용한 빠른 검색 기능

Elastic Search

**Search**

* 검색 질의에 대한 답변

데이터가 유입 될 때 indexing이라는 프로세스를 진행하여 검색 및 통계를 위한 Document를 확보함.

검색어를 추출하기 위한 프로세스인 Analysis는 캐릭터 필터(Character Filter) - 토크나이저(Tokenizer) - 토큰 필터(Token Filter)로 구성, 순차적 실행

* 캐릭터 필터 - 불필요한 데이터의 삭제, 변경 등 입력된 원본 데이터를 분석에 필요한 형태로 변환
* 토크나이저 - 검색의 기초 데이터로 사용하기 위해 필요로 하는 키워드 데이터로 분리
* 토큰 필터 - 토크나이저 작업 시 발생한 불필요한 데이터를 삭제하거나, 영문인 경우 모두 소문자로 변경하는 등 중요 데이터만 남기고 분석 작업을 종료

**Observability**

머신 데이터를 기반으로 데이터 생명 주기 관점에서 시각화를 통해 기능을 수행함

* Logs - 로그 데이터를 머신에서 이벤트가 발생할 때마다 생성되는 데이터로 받아들임
* Mertric - 머신이 일정 주기로 측정하여 만든 측정 데이터로 이해하여 받아들임
* APM - Logs와 Metric을 통해 받아들인 데이터를 종합, 추척하여 운영 중인 애플리케이션의 성능 분석을 용이하게함

키바나 애플리케이션(데이터 시각화 도구)

(디스커버, 비주얼라이즈, 대시보드로 구성)

* 디스커버 - 원본 도큐먼트를 검색하거나 필터링 할 수 있는 도구
  * 수집한 데이터의 정형화된 모습과 필요 데이터 검색, 필드를 구성하는 데이터의 간단한 통계 수치 확인 가능
* 비주얼라이즈 - 축적된 데이터를 막대그래프, 파이 차트, 타일 맵, 지도 등 다양한 형식으로 시각화 하여 보여줌
* 대시보드 - 비주얼라이즈를 통해 시각화한 객체를 모아 하나의 화면에서 확인할 수 있도록 함

**Security**

보안 정보와 이벤트 관리 솔루션을 키바나(데이터 시각화 도구)에 탑재하여 외부의 시스템 공격이나 이상 징후를 선제적으로 방어하고 조치함

엘라스틱 설치를 통해 전송되는 데이터를 허가되지 않은 사용자의 접근과 의도치 않은 수정으로부터 가장 먼저 구현 => 인증 절차

**도입 시 고려사항**

기업 여건에 맞는 서브스크립션 선택

* 엘라스틱서치는 Search, Observability, Security를 위한 다양한 소프트웨어를 갖추고 잇으며 기본 기능은 무료로 사용할 수 있는 **베이직 서브스크립션** 을 제공함

전문 기술서비스 활용

* 가상머신(JVM)에서 구동함. JVM Heap 메모리 등의 자원 사용률이 높은 통계 집계 질의와 인덱싱은 시스템에 부담을 주어 장애를 발생시킬 수 있다. - 인덱스 설계 최적화 중요

업그레이드 시 임의 수정 코드 반영 확인

**ElasticSearch 라이선싱**

Elasticsearch와 Kibana의 Apache 2.0 라이선스 소스 코드를 Elastic License 및 SSPL 1.0에 따라 이중 라이선스로 전환하여 사용자가 어느 라이선스를 적용할 지 선택할 수 있도록 변경하고 있다.

 Elastic License(Elastic License v2 또는 ELv2)를 단순화하고 훨씬 더 허용 범위가 커지도록 하고 있다. 기본 배포판은 거의 지난 3년 동안 그랬던 것처럼 계속 Elastic License를 따르게 되며, 더 이상 Apache 2.0 배포는 생산되지 않는다.

Elastic License 2.0은 Elasticsearch와 Kibana의 모든 무료 및 유료 기능의 소스 코드와 Elastic의 배포에 적용된다. ELv2를 이용하는 우리의 목표는 남용으로부터 보호하면서 가능한 한 많은 것을 허용하는 것입니다. 이 라이선스는 다음의 세 가지 간단한 제한 사항과 함께 사용, 수정, 파생 작품 생성 및 재배포를 할 수 있는 자유로운 권리를 허용함.

* 제품을 다른 사람에게 관리형 서비스로 제공 X
* 라이선스 키 기능을 우회하거나 라이선스 키로 보호되는 기능을 제거하면/숨길 수 없다.
* 라이선스, 저작권 또는 기타 통지를 제거하거나 숨길 수 없다.

Elastic Search 흐름

Ex) Elastic Search 내부 DFD

App => 이벤트 =>pipeline=>ES(내부 변환)=>pipeline => metrics index(머신이 일정 주기로 측정하여 만든 측정 데이터로 이해하여 받아들이는 것) => 변환 후 내보냄

user =(검색어 벡터)> => 위의 설명처럼 내부 처리 후 => (검색어 벡터) 내보냄

API를 통해 es사용 시 Apache 2.0으로 라이센스ㅅ가 부여됨.



## 4.1.7. 음원 분석 : music auto tagger 

  * CNN 혹은 합성곱 신경망 사용함

    * 뇌의 동작. 그 중에서도 시각 피질조직의 구성에서 영감을 받은 방식
    * 수용장이 점점 더 커질 수록 점점 더 복잡한 시각 자극에 반응하는 방식에서 착안
    * 신경망의 계층이 깊어질 수록 입력의 더 자세한 특성을 분석하게 됨

  * 음악을 분석할 시 음악의 주파수를 이용함

    * 정확히는 음원을 멜 스펙트로그램으로 변환하여 분석하는 것 
    * 이 경우 파이썬의 librosa 라이브러리를 사용해 멜 스펙트로그램 얻을 수 있음
    * 이 오픈소스의 경우에도 data 디렉토리 내의 음악을 librosa 라이브러리를 이용해 변환해 분석.

  * 음악을 분석하여 음악의 특성에 가까운 태그에 실수값 점수를 부여함

    * ```
      예) [('jazz', '0.444'), ('instrumental', '0.151'), ('folk', '0.103'), ('Hip-Hop', '0.103'), ('ambient', '0.077')]
      [('guitar', '0.068'), ('rock', '0.058'), ('acoustic', '0.054'), ('experimental', '0.051'), ('electronic', '0.042')]
      ```

    * 불잍수 있는 태그는 다음과 같음

      * ['rock', 'pop', 'alternative', 'indie', 'electronic', 'female vocalists', 
        'dance', '00s', 'alternative rock', 'jazz', 'beautiful', 'metal', 
        'chillout', 'male vocalists', 'classic rock', 'soul', 'indie rock',
        'Mellow', 'electronica', '80s', 'folk', '90s', 'chill', 'instrumental',
        'punk', 'oldies', 'blues', 'hard rock', 'ambient', 'acoustic', 'experimental',
        'female vocalist', 'guitar', 'Hip-Hop', '70s', 'party', 'country', 'easy listening',
        'sexy', 'catchy', 'funk', 'electro' ,'heavy metal', 'Progressive rock',
        '60s', 'rnb', 'indie pop', 'sad', 'House', 'happy']

  * 데이터 흐름

    * 입력 : 음원 파일(mp3)
    * 음악을 librosa 라이브러리 통해 멜스펙토그램으로 변환
    * 특징 추출 알고리즘을 통해 음악적 특징 추출
    * 추출된 특징 이용해 음악에 적절한 태그를 찾고, 그 태그에 얼마나 걸맞는지 실수값 점수 매김
    * 출력 : [('jazz', '0.444'), ('instrumental', '0.151'), ('folk', '0.103'), ('Hip-Hop', '0.103'), ('ambient', '0.077')]
      [('guitar', '0.068'), ('rock', '0.058'), ('acoustic', '0.054'), ('experimental', '0.051'), ('electronic', '0.042')]
    
  * MIT 라이선스

    * Copyright (c) 2016 최근우

## 4.1.8.크롤링: scrapy 

- Scraping을 도와주기 위한 파이썬 기반 라이브러리 
- 크롤링을 할 URL을 입력받아 원하는 데이터를 추출함.

- 입력: 원하는 데이터가 담긴 웹페이지의 url
- 출력: 웹페이지 데이터(텍스트)


BSD라이선스

다음 조건을 충족하는 경우 허용됩니다.

1. 소스 코드의 재배포는 위의 저작권 표시를 유지해야합니다

   이 조건 목록 및 다음 면책 조항

2. 바이너라 형태의 재배포는 위의 저작권을 복제해야합니다.

   통지, 이 조건 목록 및 다음 면책 조항은

   배포와 함께 제공된 설명서 및/또는 기타 자료.

3. Scarpy의 이름이나 기여자의 이름을 사용할 수 없습니다.


## 4.2. 오픈소스 라이센스

## 최종 라이센스 계열: BSD

## 4.2.1. MIT 라이선스

- 저작권 안내문구, MIT 라이선스 문구가 모든 복제본에 포함

- 이 소프트웨어 및 관련 문서 파일("소프트웨어")의 사본을 얻는 모든 사람에게 사용, 복사, 수정, 병합 권한을 포함하여 제한 없이 소프트웨어를 제한 없이 처리할 수 있는 권한이 무료로 부여됩니다. , 소프트웨어 사본을 게시, 배포, 서브라이선스 및/또는 판매하고 소프트웨어를 제공받은 사람이 그렇게 할 수 있도록 다음 조건에 따라 허용합니다.

  위의 저작권 표시 및 이 허가 표시는 소프트웨어의 모든 사본 또는 상당 부분에 포함되어야 합니다.

  소프트웨어는 상품성, 특정 목적에의 적합성 및 비침해성에 대한 보증을 포함하되 이에 국한되지 않고 명시적이든 묵시적이든 어떠한 종류의 보증 없이 "있는 그대로" 제공됩니다. 어떤 경우에도 작성자나 저작권 보유자는 소프트웨어 또는 소프트웨어의 사용 또는 기타 거래로 인해 또는 이와 관련하여 발생하는 계약, 불법 행위 또는 기타 행위에 관계없이 청구, 손해 또는 기타 책임에 대해 책임을 지지 않습니다. 소프트웨어.

## 4.2.2. Apache 2.0

* 라이센서에게 Contribution 하는 경우 Apache 라이선스를 따름

* 수취인에게 라이선스 사본 제공
* 수정된 파일에 대해 수정사항을 표시한 안내문구 첨부
* 저작권, 특허, 상표, attribution에 대한 고지사항을 소스코드 또는 "NOTICE" 파일 등에 포함
* 최초개발자 등을 위해 보증을 면제하고, 책임을 제한

## 4.2.3. BSD 라이선스

* 재배포시 저작권 표시, 준수 조건 및 보증부인에 대한 고지사항을 소스코드 또는 문서 및 기타 자료에 포함
* 최초개발자나 기여자의 이름을 제품에 대한 보증이나 홍보에 사용하지 못함

## 4.2.4. CC License(CC BY)

*  저작자 및 출처만 표시한다면, 제한없이 자유롭게 이용할 수 있음